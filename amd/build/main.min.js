define("block_readabilityscore/main",["exports","./repository"],(function(_exports,_repository){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;function handleScanButtonClick(){const resultContainer=document.getElementById("readability-result");resultContainer?(resultContainer.innerHTML="",alert("Please select text on the page to analyze its readability."),document.addEventListener("mouseup",textSelectionHandler)):console.log("resultContainer not found")}function textSelectionHandler(){const selectedText=function(selection){let selectedText="";for(let i=0;i<selection.rangeCount;i++){const range=selection.getRangeAt(i),container=document.createElement("div");container.appendChild(range.cloneContents()),selectedText+=container.innerText||container.textContent}return selectedText.replace(/\s+/g," ").trim()}(window.getSelection());if(""!==selectedText){const pageUrl=window.location.href;(0,_repository.processText)(selectedText,pageUrl).then(handleProcessTextResponse).catch((error=>{console.error("Error:",error)})),document.removeEventListener("mouseup",textSelectionHandler)}}function handleProcessTextResponse(response){const resultContainer=document.getElementById("readability-result"),score=response.readabilityscore,difficultyLevel=function(score){if(score>=17)return"College graduate";if(score>=16)return"College senior";if(score>=15)return"College junior";if(score>=14)return"College sophomore";if(score>=13)return"College freshman";if(score>=12)return"High school senior";if(score>=11)return"High school junior";if(score>=10)return"High school sophomore";if(score>=9)return"High school freshman";if(score>=8)return"Eighth grade";if(score>=7)return"Seventh grade";if(score>=6)return"Sixth grade";return"Fifth grade or below"}(score),resultParagraph=document.createElement("p");if(resultParagraph.innerHTML="\n        <strong>Gunning Fog Index:</strong> ".concat(score.toFixed(2),"<br>\n        <strong>Reading Level:</strong> ").concat(difficultyLevel,"\n    "),resultContainer.appendChild(resultParagraph),response.remediationSuggestions&&response.remediationSuggestions.length>0){const suggestionsHeader=document.createElement("h4");suggestionsHeader.textContent="Remediation Suggestions:",resultContainer.appendChild(suggestionsHeader);const suggestionsList=document.createElement("ul");response.remediationSuggestions.forEach((suggestion=>{const listItem=document.createElement("li");listItem.textContent=suggestion,suggestionsList.appendChild(listItem)})),resultContainer.appendChild(suggestionsList)}}_exports.init=()=>{const scanButton=document.getElementById("scan-button");scanButton?scanButton.addEventListener("click",handleScanButtonClick):console.log("scanButton not found")}}));

//# sourceMappingURL=main.min.js.map