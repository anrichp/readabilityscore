{"version":3,"file":"repository.min.js","sources":["../src/repository.js"],"sourcesContent":["import { call as fetchMany } from 'core/ajax';\n\n/**\n * Process the selected text and get the readability score.\n * @param {string} selectedtext - The selected text to be processed.\n * @param {string} pageurl - The URL of the page where the text originated from.\n * @returns {Promise} - A promise that resolves to the readability score.\n */\nexport const processText = (selectedtext, pageurl) => {\n    // Make an AJAX call to the Moodle web service.\n    return fetchMany([{\n        methodname: 'block_readabilityscore_process_text',\n        args: {\n            selectedtext,\n            pageurl,\n        },\n    }])[0]\n    .then(response => {\n        // Check if response contains the expected data\n        if (response && response.readabilityscore !== undefined) {\n            return response;\n        } else {\n            throw new Error('Unexpected response format');\n        }\n    })\n    .catch(error => {\n        // eslint-disable-next-line no-console\n        console.error('Error processing text:', error);\n        throw error;\n    });\n};"],"names":["selectedtext","pageurl","methodname","args","then","response","undefined","readabilityscore","Error","catch","error","console"],"mappings":"sMAQ2B,CAACA,aAAcC,WAE/B,cAAU,CAAC,CACdC,WAAY,sCACZC,KAAM,CACFH,aAAAA,aACAC,QAAAA,YAEJ,GACHG,MAAKC,cAEEA,eAA0CC,IAA9BD,SAASE,wBACdF,eAED,IAAIG,MAAM,iCAGvBC,OAAMC,cAEHC,QAAQD,MAAM,yBAA0BA,OAClCA"}