{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["import { processText } from './repository';\n\nlet initialized = false;\n\nexport const init = () => {\n    // eslint-disable-next-line no-console\n    console.log(\"The init function was called\");\n\n    if (initialized) {\n        return;\n    }\n\n    initialized = true;\n    // eslint-disable-next-line no-console\n    console.log('Executing init function logic');\n\n    const scanButton = document.getElementById('scan-button');\n    if (scanButton) {\n        // eslint-disable-next-line no-console\n        console.log('scanButton found:', scanButton);\n\n        scanButton.addEventListener('click', function() {\n            // eslint-disable-next-line no-console\n            console.log('Scan button clicked');\n\n            const selectedTextContainer = document.getElementById('selected-text-container');\n            if (selectedTextContainer) {\n                // eslint-disable-next-line no-console\n                console.log('selectedTextContainer found:', selectedTextContainer);\n                selectedTextContainer.textContent = 'Selected Text: ';\n            } else {\n                // eslint-disable-next-line no-console\n                console.log('selectedTextContainer not found');\n            }\n\n            alert('Please select text on the page.');\n\n            const textSelectionHandler = function() {\n                const selectedText = window.getSelection().toString().trim();\n                // eslint-disable-next-line no-console\n                console.log('Selected text:', selectedText);\n\n                if (selectedText !== '') {\n                    // eslint-disable-next-line no-console\n                    console.log('Selected text is not empty:', selectedText);\n                    if (selectedTextContainer) {\n                        selectedTextContainer.textContent += selectedText;\n                    }\n\n                    const pageUrl = window.location.href; // Ensure pageUrl is correctly set\n\n                    processText(selectedText, pageUrl)\n                        .then(response => {\n                            alert('Readability Score: ' + response.readabilityscore);\n                        })\n                        .catch(error => {\n                            // eslint-disable-next-line no-console\n                            console.error('Error:', error);\n                        });\n\n                    document.removeEventListener('mouseup', textSelectionHandler);\n                } else {\n                    // eslint-disable-next-line no-console\n                    console.log('No text selected');\n                }\n            };\n\n            document.addEventListener('mouseup', textSelectionHandler);\n            // eslint-disable-next-line no-console\n            console.log('textSelectionHandler added');\n        });\n    } else {\n        // eslint-disable-next-line no-console\n        console.log('scanButton not found');\n    }\n};\n"],"names":["initialized","console","log","scanButton","document","getElementById","addEventListener","selectedTextContainer","textContent","alert","textSelectionHandler","selectedText","window","getSelection","toString","trim","pageUrl","location","href","then","response","readabilityscore","catch","error","removeEventListener"],"mappings":"iLAEIA,aAAc,gBAEE,QAEhBC,QAAQC,IAAI,gCAERF,mBAIJA,aAAc,EAEdC,QAAQC,IAAI,uCAENC,WAAaC,SAASC,eAAe,eACvCF,YAEAF,QAAQC,IAAI,oBAAqBC,YAEjCA,WAAWG,iBAAiB,SAAS,WAEjCL,QAAQC,IAAI,6BAENK,sBAAwBH,SAASC,eAAe,2BAClDE,uBAEAN,QAAQC,IAAI,+BAAgCK,uBAC5CA,sBAAsBC,YAAc,mBAGpCP,QAAQC,IAAI,mCAGhBO,MAAM,yCAEAC,qBAAuB,iBACnBC,aAAeC,OAAOC,eAAeC,WAAWC,UAEtDd,QAAQC,IAAI,iBAAkBS,cAET,KAAjBA,aAAqB,CAErBV,QAAQC,IAAI,8BAA+BS,cACvCJ,wBACAA,sBAAsBC,aAAeG,oBAGnCK,QAAUJ,OAAOK,SAASC,iCAEpBP,aAAcK,SACrBG,MAAKC,WACFX,MAAM,sBAAwBW,SAASC,qBAE1CC,OAAMC,QAEHtB,QAAQsB,MAAM,SAAUA,UAGhCnB,SAASoB,oBAAoB,UAAWd,2BAGxCT,QAAQC,IAAI,qBAIpBE,SAASE,iBAAiB,UAAWI,sBAErCT,QAAQC,IAAI,kCAIhBD,QAAQC,IAAI"}